<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Micropolis: Bug List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Micropolis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bug.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Bug List </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt>Member <a class="el" href="animate_8cpp.html#a7bfcc782d7176786fdf072aa7269baec">animatedTiles</a>  [TILE_COUNT]</dt>
<dd><a class="anchor" id="_bug000001"></a>Tile 620 points to 852. That should be tile 621. </dd>
<dt>Member <a class="el" href="classMicropolis.html#a302f5202df5d21e213279ba0f005a43f">Micropolis::buildHouse</a>  (const <a class="el" href="classPosition.html">Position</a> &amp;pos, int value)</dt>
<dd><a class="anchor" id="_bug000018"></a>score is never 0 !!  </dd>
<dt>Member <a class="el" href="classMicropolis.html#ad214ca1411ed3057300176c0c4c8985b">Micropolis::bulldozerTool</a>  (short x, short y, <a class="el" href="classToolEffects.html">ToolEffects</a> *effects)</dt>
<dd><p class="startdd"><a class="anchor" id="_bug000014"></a>Tool does not return TOOLRESULT_NO_MONEY. </p>
<p class="enddd">Sometimes we can delete parts of a residential zone, but not always. Decide what rule we should have, and fix accordingly. </p>
</dd>
<dt>Member <a class="el" href="classMicropolis.html#a78a28a803fc10d992196950f9caea3e5">Micropolis::collectTax</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_bug000010"></a>Function seems to be doing different things depending on <a class="el" href="classMicropolis.html#a9a031709dddb583f85715eb66c454bc9">Micropolis::totalPop</a> value. With an non-empty city it does fund calculations. For an empty city, it immediately sets effects of funding, which seems inconsistent at least, and may be wrong </p>
<p class="enddd">If <a class="el" href="classMicropolis.html#a23430576d8ae376fd0cc217b9c829d1b">Micropolis::taxFlag</a> is set, no variable is touched which seems non-robust at least  </p>
</dd>
<dt>Member <a class="el" href="classMicropolis.html#a108f15f1291408139c0fcbf198c22410">Micropolis::doZoneStatus</a>  (short mapH, short mapV)</dt>
<dd><a class="anchor" id="_bug000013"></a>Program breaks for status on 'dirt'  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a323130487bc908c5853c34b2a22df74b">Micropolis::generateSomeRandomCity</a>  ()</dt>
<dd><a class="anchor" id="_bug000004"></a>We use a random number generator to draw a seed for initializing the random number generator?  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a4929db3f8bb84bec029f7e1f99e42765">Micropolis::getDir</a>  (int orgX, int orgY, int desX, int desY)</dt>
<dd><a class="anchor" id="_bug000012"></a>Has a condition that never holds.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a5db230dbb510ee57bedcfb1f92ff74eb">Micropolis::getRandom</a>  (short range)</dt>
<dd><a class="anchor" id="_bug000009"></a>Increment may cause range overflow.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#adb894a19a4836dbf3a20d13f48efdf7e">Micropolis::loadCity</a>  (const std::string &amp;filename)</dt>
<dd><a class="anchor" id="_bug000002"></a>Function fails if <code>lastDot&lt;lastSlash</code> (ie with <code>"x.y/bla"</code> )  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a97ae47147e7e0660eaa7952fa16c56b6">Micropolis::saveCityAs</a>  (const std::string &amp;filename)</dt>
<dd><a class="anchor" id="_bug000003"></a>Function fails if <code>lastDot&lt;lastSlash</code> (ie with <code>"x.y/bla"</code> )  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a3a752188c5dbf468c68c8840a6224d90">Micropolis::tickCount</a>  ()</dt>
<dd><a class="anchor" id="_bug000006"></a>Unix version looks wrong, <code>time.tv_usec</code> should be divided to get seconds or <code>time.tc_sec</code> should be multiplied.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#ad68f2b89e42e2db02f8e9c449076fb8f">Micropolis::treeSplash</a>  (short xloc, short yloc)</dt>
<dd><a class="anchor" id="_bug000005"></a>Function generates trees even if <a class="el" href="classMicropolis.html#a28d7aa7f68c95733931bd958637d70dc">Micropolis::terrainTreeLevel</a> is 0.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a315c6cca38c43a717c8bdd084d159fda">Micropolis::tryDrive</a>  (const <a class="el" href="classPosition.html">Position</a> &amp;startPos, ZoneType destZone)</dt>
<dd><a class="anchor" id="_bug000015"></a>The stack is popped, but position (and dirLast) is not updated.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#af36815c0343c5c02116c381135ee1578">Micropolis::updateDate</a>  ()</dt>
<dd><a class="anchor" id="_bug000016"></a>Message is wrong.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#aea06620c11f0488fa190bc5ecd048d39">Micropolis::updateFundEffects</a>  ()</dt>
<dd><a class="anchor" id="_bug000011"></a>I think this should be called after loading a city, or any time anything it depends on changes.  </dd>
<dt>Member <a class="el" href="classMicropolis.html#a741facc00e6117d20ef366b348f50e5b">Micropolis::zonePlop</a>  (const <a class="el" href="classPosition.html">Position</a> &amp;pos, int base)</dt>
<dd><a class="anchor" id="_bug000017"></a>This function allows partial on-map construction. Is that intentional? No!  </dd>
<dt>File <a class="el" href="random_8cpp.html">random.cpp</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_bug000007"></a>Code seems to assume that <code>sizeof(short)==2</code> and <code>sizeof(int)==4</code> However, this depends on the compiler. We should introduce typedefs for them, and check correctness of our assumptions w.r.t. size of them (eg in <a class="el" href="classMicropolis.html#a9e1e857339c8bee18e8f366665149dc1">Micropolis::randomlySeedRandom()</a> or in <a class="el" href="classMicropolis.html#a3c573ff6e69acab2df75d014da91688e">Micropolis::Micropolis()</a>).</p>
<p class="enddd"><a class="anchor" id="_bug000008"></a>Code stores unsigned 16 bit numbers in <code>short</code> which is a signed type. </p>
</dd>
</dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
